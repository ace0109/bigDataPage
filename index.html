<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <title>同安教育疫情防控速报</title>
    <link rel="stylesheet" href="./css/flex.css" />
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <header>
      <img src="./images/head_bg.png" />
      <h1>同安教育疫情防控速报</h1>
      <!-- 最新上报滚动消息 -->
      <div class="scroll-message" flex="main:center" flex-box="0">
        <ul class="_container" id="scroll_message">
          <li>最新消息：嘻嘻嘻嘻嘻嘻嘻嘻寻寻寻寻寻寻寻寻</li>
          <li>最新消息：嘻嘻嘻嘻嘻嘻嘻嘻寻寻寻寻寻寻寻寻</li>
          <li>最新消息：嘻嘻嘻嘻嘻嘻嘻嘻寻寻寻寻寻寻寻寻</li>
          <li>最新消息：嘻嘻嘻嘻嘻嘻嘻嘻寻寻寻寻寻寻寻寻</li>
          <li>最新消息：嘻嘻嘻嘻嘻嘻嘻嘻寻寻寻寻寻寻寻寻(第五个)</li>
        </ul>
      </div>
    </header>
    <div class="main" flex="main:justify cross:stretch box:justify">
      <div class="left" flex="main:justify dir:top">
        <div class="module-border" flex-box="0" style="height: 140px;">
          <div class="title" flex="main:center">
            <p>重点关注人员数据</p>
          </div>
          <div class="focus-on-title" flex="main:justify cross:center">
            <div flex-box="0">人员类型</div>
            <div flex-box="0">在同安</div>
            <div flex-box="0">不在同安</div>
          </div>
          <div class="focus-on-title" flex="main:justify cross:center">
            <div flex-box="0">湖北籍去过湖北</div>
            <div flex-box="0">227</div>
            <div flex-box="0">227</div>
          </div>
          <div class="focus-on-title" flex="main:justify cross:center">
            <div flex-box="0">非湖北籍去过湖北</div>
            <div flex-box="0">227</div>
            <div flex-box="0">227</div>
          </div>
          <div class="focus-on-title" flex="main:justify cross:center">
            <div flex-box="0">湖北籍未去湖北</div>
            <div flex-box="0">227</div>
            <div flex-box="0">227</div>
          </div>
        </div>
        <div class="module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>湖北返厦人员趋势</p>
          </div>
          <div id="hubei_back_trend"></div>
        </div>
        <div class="module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>在湖北未返厦师生分布</p>
          </div>
          <div id="hubei_unback_trend"></div>
        </div>
        <div class="module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>湖北返厦师生分布</p>
          </div>
          <div id="hubei_back_bar"></div>
        </div>
      </div>
      <div class="middle" flex="main:justify dir:top">
        <div
          class="reported-persons-number module-border"
          flex="main:center"
          flex-box="0"
        >
          <div class="plan-back-trend">
            <div class="total-number" flex="main:center">
              <div class="total-item">
                <p class="title">同安学生总数</p>
                <p class="value">132464</p>
              </div>
              <div class="total-item">
                <p class="title">同安学生总数</p>
                <p class="value">132464</p>
              </div>
            </div>
            <div id="back_trend"></div>
          </div>
          <div class="reported-persons-type">
            <h3>累计上报学生人次</h3>
            <p class="total-number">2346745</p>
            <p class="today-number">今日学生上报</p>
            <div
              id="today_student_pie"
              style="width: 100%;height: 180px;"
            ></div>
          </div>
          <div class="reported-persons-type">
            <h3>累计上报教师人次</h3>
            <p class="total-number">16465</p>
            <p class="today-number">今日教师上报</p>
            <div
              id="today_teacher_pie"
              style="width: 100%;height: 180px;"
            ></div>
          </div>
        </div>
        <!-- 全国地图 -->
        <div class="china-map module-border" flex-box="1">
          <div id="china_map_container"></div>
        </div>
        <!-- 累计返厦 -->
        <div class="cumulative module-border" flex-box="0" flex="main:justify">
          <div class="cumulative-back-personals">
            <p class="title">累计返厦总人数：</p>
            <p class="value">5000</p>
          </div>
          <div class="cumulative-back-personals">
            <p class="title">预计今明日返厦人数：</p>
            <p class="value" style="font-size: 20px;">今日：366</p>
            <p class="value" style="font-size: 20px;">明日：366</p>
          </div>
          <div class="schools-back-progress">
            <p class="title">公办校返厦进度</p>
            <div
              id="public_back_progress"
              style="width: 100%;height: 100px;"
            ></div>
          </div>
          <div class="schools-back-progress">
            <p class="title">民办校返厦进度</p>
            <div
              id="private_back_progress"
              style="width: 100%;height: 100px;"
            ></div>
          </div>
        </div>
      </div>
      <div class="right" flex="main:justify dir:top">
        <!-- 上报学校列表数据 -->
        <div class="reported-schools-list module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>全区学生感冒发烧趋势</p>
          </div>
          <table cellpadding="0" cellspacing="0">
            <thead>
              <tr>
                <th>学校</th>
                <th>上报数</th>
                <th>未上报</th>
                <th>上报率</th>
                <th>总数</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
              <tr>
                <td>XXXXX学校</td>
                <td>99</td>
                <td>1</td>
                <td>99%</td>
                <td>100</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>全区学生感冒发烧趋势</p>
          </div>
          <div id="student_cold_trend"></div>
        </div>
        <div class="module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>重点区域返厦师生信息</p>
          </div>
          <div id="key_areas_back_bar"></div>
        </div>
        <div class="module-border" flex-box="1">
          <div class="title" flex="main:center">
            <p>预计返厦趋势</p>
          </div>
          <div id="plan_back_bar"></div>
        </div>
      </div>
    </div>
    <script src="./js/echarts.min.js"></script>
    <script src="./js/china.js"></script>
    <script src="./js/scroll.js"></script>
    <script>
      window.onload = function() {
        myScroll.upScroll("scroll_message", "-26px", 3000);

        // 返厦人员趋势
        var backTrendChart = echarts.init(
          document.getElementById("back_trend")
        );
        var backTrendOptions = {
          legend: {
            icon: "circle",
            data: ["学生", "教师"],
            textStyle: {
              color: "#fff"
            }
          },
          grid: {
            top: 30,
            bottom: 20,
            right: 20,
            borderColor: "#fff"
          },
          xAxis: [
            {
              type: "category",
              boundaryGap: false,
              data: ["周一", "周二", "周三", "周四", "周五", "周六", "周日"],
              axisLine: {
                lineStyle: {
                  color: "#fff"
                }
              }
            }
          ],
          yAxis: [
            {
              type: "value",
              axisLine: {
                lineStyle: {
                  color: "#fff"
                }
              }
            }
          ],
          series: [
            {
              name: "学生",
              type: "line",
              stack: "总量",
              areaStyle: {},
              data: [120, 132, 101, 134, 90, 230, 210]
            },
            {
              name: "教师",
              type: "line",
              stack: "总量",
              areaStyle: {},
              data: [220, 182, 191, 234, 290, 330, 310]
            }
          ]
        };
        backTrendChart.setOption(backTrendOptions);

        // 今日学生上报
        var todayStudentPie = echarts.init(
          document.getElementById("today_student_pie")
        );
        var todayStudentPieOptions = {
          legend: {
            orient: "horizontal",
            bottom: 10,
            data: ["已上报", "未上报"],
            textStyle: {
              color: "#fff"
            }
          },
          series: [
            {
              name: "上报情况",
              type: "pie",
              radius: ["30%", "50%"],
              avoidLabelOverlap: false,
              label: {
                normal: {
                  show: false,
                  position: "center"
                },
                emphasis: {
                  show: true,
                  textStyle: {
                    fontSize: "12",
                    fontWeight: "bold"
                  }
                }
              },
              labelLine: {
                normal: {
                  show: false
                }
              },
              data: [
                { value: 123, name: "已上报" },
                { value: 100, name: "未上报" }
              ]
            }
          ]
        };
        todayStudentPie.setOption(todayStudentPieOptions);
        // 今日教师上报
        var todayTeacherTie = echarts.init(
          document.getElementById("today_teacher_pie")
        );
        var todayTeacherTieOptions = {
          legend: {
            orient: "horizontal",
            bottom: 10,
            data: ["已上报", "未上报"],
            textStyle: {
              color: "#fff"
            }
          },
          series: [
            {
              name: "上报情况",
              type: "pie",
              radius: ["30%", "50%"],
              avoidLabelOverlap: false,
              label: {
                normal: {
                  show: false,
                  position: "center"
                },
                emphasis: {
                  show: true,
                  textStyle: {
                    fontSize: "12",
                    fontWeight: "bold"
                  }
                }
              },
              labelLine: {
                normal: {
                  show: false
                }
              },
              data: [
                { value: 123, name: "已上报" },
                { value: 100, name: "未上报" }
              ]
            }
          ]
        };
        todayTeacherTie.setOption(todayTeacherTieOptions);

        // 公办校返厦进度
        var publicBackProgress = echarts.init(
          document.getElementById("public_back_progress")
        );

        var publicBackProgressOptions = {
          series: [
            {
              name: "返厦进度",
              type: "pie",
              radius: ["50%", "80%"],
              center: ["25%", "50%"],
              avoidLabelOverlap: false,
              label: {
                normal: {
                  show: false,
                  position: "center"
                },
                emphasis: {
                  show: true,
                  textStyle: {
                    fontSize: "12",
                    fontWeight: "bold"
                  }
                }
              },
              labelLine: {
                normal: {
                  show: false
                }
              },
              data: [
                { value: 123, name: "已返厦" },
                { value: 100, name: "未返厦" }
              ]
            }
          ]
        };

        publicBackProgress.setOption(publicBackProgressOptions);
        // 民办校返厦进度
        var privateBackProgress = echarts.init(
          document.getElementById("private_back_progress")
        );

        var privateBackProgressOptions = {
          series: [
            {
              name: "返厦进度",
              type: "pie",
              radius: ["50%", "80%"],
              center: ["25%", "50%"],
              avoidLabelOverlap: false,
              label: {
                normal: {
                  show: false,
                  position: "center"
                },
                emphasis: {
                  show: true,
                  textStyle: {
                    fontSize: "12",
                    fontWeight: "bold"
                  }
                }
              },
              labelLine: {
                normal: {
                  show: false
                }
              },
              data: [
                { value: 123, name: "已返厦" },
                { value: 100, name: "未返厦" }
              ]
            }
          ]
        };

        privateBackProgress.setOption(privateBackProgressOptions);

        var name_title = "累计返厦人员位置分布";
        var nameColor = "#fff";
        var name_fontFamily = "Microsoft YaHei";
        var name_fontSize = 18;
        var mapName = "china";
        var data = [
          { name: "北京", value: 177 },
          { name: "天津", value: 42 },
          { name: "河北", value: 102 },
          { name: "山西", value: 81 },
          { name: "内蒙古", value: 47 },
          { name: "辽宁", value: 67 },
          { name: "吉林", value: 82 },
          { name: "黑龙江", value: 66 },
          { name: "上海", value: 24 },
          { name: "江苏", value: 92 },
          { name: "浙江", value: 114 },
          { name: "安徽", value: 109 },
          { name: "福建", value: 116 },
          { name: "江西", value: 91 },
          { name: "山东", value: 119 },
          { name: "河南", value: 137 },
          { name: "湖北", value: 116 },
          { name: "湖南", value: 114 },
          { name: "重庆", value: 91 },
          { name: "四川", value: 125 },
          { name: "贵州", value: 62 },
          { name: "云南", value: 83 },
          { name: "西藏", value: 9 },
          { name: "陕西", value: 80 },
          { name: "甘肃", value: 56 },
          { name: "青海", value: 10 },
          { name: "宁夏", value: 18 },
          { name: "新疆", value: 67 },
          { name: "广东", value: 123 },
          { name: "广西", value: 59 },
          { name: "海南", value: 14 }
        ];

        // 全国地图
        var chinaMapChart = echarts.init(
          document.getElementById("china_map_container")
        );

        var geoCoordMap = {};
        var toolTipData = [
          {
            name: "北京",
            value: [
              { name: "学生", value: 95 },
              { name: "教师", value: 82 }
            ]
          },
          {
            name: "天津",
            value: [
              { name: "学生", value: 22 },
              { name: "教师", value: 20 }
            ]
          },
          {
            name: "河北",
            value: [
              { name: "学生", value: 60 },
              { name: "教师", value: 42 }
            ]
          },
          {
            name: "山西",
            value: [
              { name: "学生", value: 40 },
              { name: "教师", value: 41 }
            ]
          },
          {
            name: "内蒙古",
            value: [
              { name: "学生", value: 23 },
              { name: "教师", value: 24 }
            ]
          },
          {
            name: "辽宁",
            value: [
              { name: "学生", value: 39 },
              { name: "教师", value: 28 }
            ]
          },
          {
            name: "吉林",
            value: [
              { name: "学生", value: 41 },
              { name: "教师", value: 41 }
            ]
          },
          {
            name: "黑龙江",
            value: [
              { name: "学生", value: 35 },
              { name: "教师", value: 31 }
            ]
          },
          {
            name: "上海",
            value: [
              { name: "学生", value: 12 },
              { name: "教师", value: 12 }
            ]
          },
          {
            name: "江苏",
            value: [
              { name: "学生", value: 47 },
              { name: "教师", value: 45 }
            ]
          },
          {
            name: "浙江",
            value: [
              { name: "学生", value: 57 },
              { name: "教师", value: 57 }
            ]
          },
          {
            name: "安徽",
            value: [
              { name: "学生", value: 57 },
              { name: "教师", value: 52 }
            ]
          },
          {
            name: "福建",
            value: [
              { name: "学生", value: 59 },
              { name: "教师", value: 57 }
            ]
          },
          {
            name: "江西",
            value: [
              { name: "学生", value: 49 },
              { name: "教师", value: 42 }
            ]
          },
          {
            name: "山东",
            value: [
              { name: "学生", value: 67 },
              { name: "教师", value: 52 }
            ]
          },
          {
            name: "河南",
            value: [
              { name: "学生", value: 69 },
              { name: "教师", value: 68 }
            ]
          },
          {
            name: "湖北",
            value: [
              { name: "学生", value: 60 },
              { name: "教师", value: 56 }
            ]
          },
          {
            name: "湖南",
            value: [
              { name: "学生", value: 62 },
              { name: "教师", value: 52 }
            ]
          },
          {
            name: "重庆",
            value: [
              { name: "学生", value: 47 },
              { name: "教师", value: 44 }
            ]
          },
          {
            name: "四川",
            value: [
              { name: "学生", value: 65 },
              { name: "教师", value: 60 }
            ]
          },
          {
            name: "贵州",
            value: [
              { name: "学生", value: 32 },
              { name: "教师", value: 30 }
            ]
          },
          {
            name: "云南",
            value: [
              { name: "学生", value: 42 },
              { name: "教师", value: 41 }
            ]
          },
          {
            name: "西藏",
            value: [
              { name: "学生", value: 5 },
              { name: "教师", value: 4 }
            ]
          },
          {
            name: "陕西",
            value: [
              { name: "学生", value: 38 },
              { name: "教师", value: 42 }
            ]
          },
          {
            name: "甘肃",
            value: [
              { name: "学生", value: 28 },
              { name: "教师", value: 28 }
            ]
          },
          {
            name: "青海",
            value: [
              { name: "学生", value: 5 },
              { name: "教师", value: 5 }
            ]
          },
          {
            name: "宁夏",
            value: [
              { name: "学生", value: 10 },
              { name: "教师", value: 8 }
            ]
          },
          {
            name: "新疆",
            value: [
              { name: "学生", value: 36 },
              { name: "教师", value: 31 }
            ]
          },
          {
            name: "广东",
            value: [
              { name: "学生", value: 63 },
              { name: "教师", value: 60 }
            ]
          },
          {
            name: "广西",
            value: [
              { name: "学生", value: 29 },
              { name: "教师", value: 30 }
            ]
          },
          {
            name: "海南",
            value: [
              { name: "学生", value: 8 },
              { name: "教师", value: 6 }
            ]
          }
        ];

        /*获取地图数据*/
        chinaMapChart.showLoading();
        var mapFeatures = echarts.getMap(mapName).geoJson.features;
        chinaMapChart.hideLoading();
        mapFeatures.forEach(function(v) {
          // 地区名称
          var name = v.properties.name;
          // 地区经纬度
          geoCoordMap[name] = v.properties.cp;
        });

        // console.log("============geoCoordMap===================")
        // console.log(geoCoordMap)
        // console.log("================data======================")
        console.log(data);
        console.log(toolTipData);
        var max = 480,
          min = 9; // todo
        var maxSize4Pin = 100,
          minSize4Pin = 20;

        var convertData = function(data) {
          var res = [];
          for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name];
            if (geoCoord) {
              res.push({
                name: data[i].name,
                value: geoCoord.concat(data[i].value)
              });
            }
          }
          return res;
        };
        option = {
          title: {
            text: name_title,
            x: "center",
            textStyle: {
              color: nameColor,
              fontFamily: name_fontFamily,
              fontSize: name_fontSize
            }
          },
          tooltip: {
            trigger: "item",
            formatter: function(params) {
              if (typeof params.value[2] == "undefined") {
                var toolTiphtml = "";
                for (var i = 0; i < toolTipData.length; i++) {
                  if (params.name == toolTipData[i].name) {
                    toolTiphtml += toolTipData[i].name + ":<br>";
                    for (var j = 0; j < toolTipData[i].value.length; j++) {
                      toolTiphtml +=
                        toolTipData[i].value[j].name +
                        ":" +
                        toolTipData[i].value[j].value +
                        "<br>";
                    }
                  }
                }
                console.log(toolTiphtml);
                // console.log(convertData(data))
                return toolTiphtml;
              } else {
                var toolTiphtml = "";
                for (var i = 0; i < toolTipData.length; i++) {
                  if (params.name == toolTipData[i].name) {
                    toolTiphtml += toolTipData[i].name + ":<br>";
                    for (var j = 0; j < toolTipData[i].value.length; j++) {
                      toolTiphtml +=
                        toolTipData[i].value[j].name +
                        ":" +
                        toolTipData[i].value[j].value +
                        "<br>";
                    }
                  }
                }
                console.log(toolTiphtml);
                // console.log(convertData(data))
                return toolTiphtml;
              }
            }
          },
          // legend: {
          //     orient: 'vertical',
          //     y: 'bottom',
          //     x: 'right',
          //     data: ['credit_pm2.5'],
          //     textStyle: {
          //         color: '#fff'
          //     }
          // },
          visualMap: {
            show: true,
            min: 0,
            max: 200,
            left: "left",
            top: "bottom",
            text: ["高", "低"], // 文本，默认为数值文本
            calculable: true,
            seriesIndex: [1],
            inRange: {
              // color: ["#3B5077", "#031525"] // 蓝黑
              // color: ['#ffc0cb', '#800080'] // 红紫
              // color: ['#3C3B3F', '#605C3C'] // 黑绿
              // color: ["#0f0c29", "#302b63", "#24243e"] // 黑紫黑
              // color: ["#23074d", "#cc5333"] // 紫红
              // color: ["#00467F", "#A5CC82"] // 蓝绿
              color: ["#1488CC", "#2B32B2"] // 浅蓝
              // color: ['#00467F', '#A5CC82'] // 蓝绿
              // color: ['#00467F', '#A5CC82'] // 蓝绿
              // color: ['#00467F', '#A5CC82'] // 蓝绿
              // color: ["#00467F", "#A5CC82"] // 蓝绿
            }
          },
          /*工具按钮组*/
          // toolbox: {
          //     show: true,
          //     orient: 'vertical',
          //     left: 'right',
          //     top: 'center',
          //     feature: {
          //         dataView: {
          //             readOnly: false
          //         },
          //         restore: {},
          //         saveAsImage: {}
          //     }
          // },
          geo: {
            show: true,
            map: mapName,
            label: {
              normal: {
                show: false
              },
              emphasis: {
                show: false
              }
            },
            roam: true,
            itemStyle: {
              normal: {
                areaColor: "#031525",
                borderColor: "#3B5077"
              },
              emphasis: {
                areaColor: "#2B91B7"
              }
            }
          },
          series: [
            {
              name: "散点",
              type: "scatter",
              coordinateSystem: "geo",
              data: convertData(data),
              symbolSize: function(val) {
                return val[2] / 10;
              },
              label: {
                normal: {
                  formatter: "{b}",
                  position: "right",
                  show: true
                },
                emphasis: {
                  show: true
                }
              },
              itemStyle: {
                normal: {
                  color: "#05C3F9"
                }
              }
            },
            {
              type: "map",
              map: mapName,
              geoIndex: 0,
              aspectScale: 0.75, //长宽比
              showLegendSymbol: false, // 存在legend时显示
              label: {
                normal: {
                  show: true
                },
                emphasis: {
                  show: false,
                  textStyle: {
                    color: "#fff"
                  }
                }
              },
              roam: true,
              itemStyle: {
                normal: {
                  areaColor: "#031525",
                  borderColor: "#3B5077"
                },
                emphasis: {
                  areaColor: "#2B91B7"
                }
              },
              animation: false,
              data: data
            },
            // {
            //   name: "点",
            //   type: "scatter",
            //   coordinateSystem: "geo",
            //   symbol: "pin", //气泡
            //   symbolSize: function(val) {
            //     var a = (maxSize4Pin - minSize4Pin) / (max - min);
            //     var b = minSize4Pin - a * min;
            //     b = maxSize4Pin - a * max;
            //     return a * val[2] + b;
            //   },
            //   label: {
            //     normal: {
            //       show: true,
            //       textStyle: {
            //         color: "#fff",
            //         fontSize: 9
            //       }
            //     }
            //   },
            //   itemStyle: {
            //     normal: {
            //       color: "#F62157" //标志颜色
            //     }
            //   },
            //   zlevel: 6,
            //   data: convertData(data)
            // },
            {
              name: "Top 5",
              type: "effectScatter",
              coordinateSystem: "geo",
              data: convertData(
                data
                  .sort(function(a, b) {
                    return b.value - a.value;
                  })
                  .slice(0, 5)
              ),
              symbolSize: function(val) {
                return val[2] / 10;
              },
              showEffectOn: "render",
              rippleEffect: {
                brushType: "stroke"
              },
              hoverAnimation: true,
              label: {
                normal: {
                  formatter: "{b}",
                  position: "right",
                  show: true
                }
              },
              itemStyle: {
                normal: {
                  color: "#e83132",
                  shadowBlur: 10,
                  shadowColor: "#e83132"
                }
              },
              zlevel: 1
            }
          ]
        };
        chinaMapChart.setOption(option);
        // 湖北返厦人员趋势
        var hubeiBackTrendChart = echarts.init(
          document.getElementById("hubei_back_trend")
        );
        var hubeiBackTrendOption = {
          legend: {
            icon: "circle",
            data: ["邮件营销", "联盟广告", "视频广告", "直接访问"],
            textStyle: {
              color: "#fff"
            }
          },
          grid: {
            top: 40,
            right: 20,
            bottom: 25,
            borderColor: "#fff"
          },
          xAxis: {
            type: "category",
            boundaryGap: false,
            data: ["周一", "周二", "周三", "周四", "周五", "周六", "周日"],
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          yAxis: {
            type: "value",
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          series: [
            {
              name: "邮件营销",
              type: "line",
              stack: "总量",
              data: [120, 132, 101, 134, 90, 230, 210]
            },
            {
              name: "联盟广告",
              type: "line",
              stack: "总量",
              data: [220, 182, 191, 234, 290, 330, 310]
            },
            {
              name: "视频广告",
              type: "line",
              stack: "总量",
              data: [150, 232, 201, 154, 190, 330, 410]
            },
            {
              name: "直接访问",
              type: "line",
              stack: "总量",
              data: [320, 332, 301, 334, 390, 330, 320]
            }
          ]
        };
        hubeiBackTrendChart.setOption(hubeiBackTrendOption);

        // 学生感冒趋势
        var studentColdTrendChart = echarts.init(
          document.getElementById("student_cold_trend")
        );
        var studentColdTrendOption = {
          grid: {
            top: 10,
            bottom: 20,
            right: 20,
            borderColor: "#fff"
          },
          xAxis: {
            type: "category",
            data: ["2-1", "2-2", "2-3", "2-4", "2-5", "2-6", "2-7"],
            boundaryGap: false,
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          yAxis: {
            type: "value",
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          series: [
            {
              data: [5, 3, 6, 5, 7, 4, 1],
              type: "line"
            }
          ]
        };
        studentColdTrendChart.setOption(studentColdTrendOption);

        // 在湖北未返厦师生分布
        var hubeiUnbackTrendChart = echarts.init(
          document.getElementById("hubei_unback_trend")
        );
        var hubeiUnbackTrendOption = {
          legend: {
            textStyle: {
              color: "#fff"
            }
          },
          grid: {
            top: 30,
            right: 20,
            bottom: 25,
            borderColor: "#fff"
          },
          dataset: {
            source: [
              ["city", "学生", "教师"],
              ["武汉", 43.3, 85.8],
              ["深圳", 83.1, 73.4],
              ["广州", 86.4, 65.2],
              ["浙江", 72.4, 53.9]
            ]
          },
          xAxis: {
            type: "category",
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          yAxis: {
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          series: [
            {
              type: "bar",
              barWidth: 15,
              itemStyle: {
                color: "#ff0000"
              }
            },
            {
              type: "bar",
              barWidth: 15,
              itemStyle: {
                color: "#2FC25B"
              }
            }
          ]
        };
        hubeiUnbackTrendChart.setOption(hubeiUnbackTrendOption);

        // 湖北返厦师生分布
        var hubeiBackBarChart = echarts.init(
          document.getElementById("hubei_back_bar")
        );
        var hubeiBackBarOption = {
          grid: {
            top: 30,
            right: 20,
            bottom: 25,
            borderColor: "#fff"
          },
          xAxis: {
            type: "value",
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          yAxis: {
            type: "category",
            data: ["巴西", "印尼", "美国", "印度", "中国", "世界"],
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          series: [
            {
              type: "bar",
              data: [121, 32, 43, 544, 445, 344],
              itemStyle: {
                color: "#188df0"
              }
            }
          ]
        };
        hubeiBackBarChart.setOption(hubeiBackBarOption);

        // 重点区域返厦师生信息
        var keyAreasBackBarChart = echarts.init(
          document.getElementById("key_areas_back_bar")
        );
        var keyAreasBarOption = {
          legend: {
            textStyle: {
              color: "#fff"
            }
          },
          grid: {
            top: 30,
            right: 20,
            bottom: 25,
            borderColor: "#fff"
          },
          dataset: {
            source: [
              ["city", "学生", "教师"],
              ["武汉", 43.3, 85.8],
              ["深圳", 83.1, 73.4],
              ["广州", 86.4, 65.2],
              ["浙江", 72.4, 53.9]
            ]
          },
          xAxis: {
            type: "category",
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          yAxis: {
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          series: [
            {
              type: "bar",
              barWidth: 15,
              itemStyle: {
                color: "#ff0000"
              }
            },
            {
              type: "bar",
              barWidth: 15,
              itemStyle: {
                color: "#2FC25B"
              }
            }
          ]
        };
        keyAreasBackBarChart.setOption(keyAreasBarOption);

        // 预计返厦趋势
        var planBackBarChart = echarts.init(
          document.getElementById("plan_back_bar")
        );
        var planBackBarOption = {
          legend: {
            textStyle: {
              color: "#fff"
            }
          },
          grid: {
            top: 30,
            right: 20,
            bottom: 25,
            borderColor: "#fff"
          },
          dataset: {
            source: [
              ["city", "学生", "教师"],
              ["武汉", 43.3, 85.8],
              ["深圳", 83.1, 73.4],
              ["广州", 86.4, 65.2],
              ["浙江", 72.4, 53.9]
            ]
          },
          xAxis: {
            type: "category",
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          yAxis: {
            axisLine: {
              lineStyle: {
                color: "#fff"
              }
            }
          },
          series: [
            {
              type: "bar",
              barWidth: 15,
              itemStyle: {
                color: "#ff0000"
              }
            },
            {
              type: "bar",
              barWidth: 15,
              itemStyle: {
                color: "#2FC25B"
              }
            }
          ]
        };
        planBackBarChart.setOption(planBackBarOption);
      };
    </script>
  </body>
</html>
